#include <LittleFS.h>
#include <ArduinoJson.h>
#include <WiFi.h>
#include <HTTPClient.h>
#include <FastLED.h>

CRGB led1[1];
CRGB led2[1];
CRGB led3[1];
CRGB led4[1];
CRGB led5[1];
CRGB led6[1];
CRGB led7[1];
unsigned long startTime = 0;
CRGB* leds[7] = { led1, led2, led3, led4, led5, led6, led7 };
unsigned int array[100][8];

void setup() {
  Serial.begin(9600);
  while (!Serial)
    continue;
  JsonDocument doc;
  // You can use a String as your JSON input.
  // WARNING: the string in the input  will be duplicated in the JsonDocument.
  // String input =
  //     "{\"sensor\":\"gps\",\"time\":1351824120,\"data\":[48.756080,2.302038]}";
  String input =
    "{\"color_data\":[{\"time\":\"3\",\"head\":\"443969607\",\"shoulder\":\"782290494\",\"chest\":\"22141170\",\"arm_waist\":\"225373480\",\"leg1\":\"1443923484\",\"leg2\":\"1107494111\",\"shoes\":\"582538419\"},{\"time\":\"17\",\"head\":\"1763461279\",\"shoulder\":\"1066049552\",\"chest\":\"1006134127\",\"arm_waist\":\"24611571\",\"leg1\":\"414864194\",\"leg2\":\"1842094993\",\"shoes\":\"2037696930\"},{\"time\":\"19\",\"head\":\"1805000182\",\"shoulder\":\"1337481935\",\"chest\":\"1416130927\",\"arm_waist\":\"86630949\",\"leg1\":\"684072184\",\"leg2\":\"1299119839\",\"shoes\":\"2109083200\"},{\"time\":\"67\",\"head\":\"1040150824\",\"shoulder\":\"1141254312\",\"chest\":\"867229794\",\"arm_waist\":\"1311136126\",\"leg1\":\"64539764\",\"leg2\":\"2098066685\",\"shoes\":\"1198099059\"},{\"time\":\"71\",\"head\":\"1401791985\",\"shoulder\":\"1395103449\",\"chest\":\"1107591946\",\"arm_waist\":\"1159232674\",\"leg1\":\"808952512\",\"leg2\":\"549487276\",\"shoes\":\"55787391\"},{\"time\":\"88\",\"head\":\"1860593522\",\"shoulder\":\"813907233\",\"chest\":\"900178900\",\"arm_waist\":\"22760416\",\"leg1\":\"726733100\",\"leg2\":\"1438767023\",\"shoes\":\"1040859317\"},{\"time\":\"104\",\"head\":\"1528503030\",\"shoulder\":\"426556953\",\"chest\":\"629200684\",\"arm_waist\":\"1013458374\",\"leg1\":\"270985302\",\"leg2\":\"1070769100\",\"shoes\":\"1230836891\"},{\"time\":\"116\",\"head\":\"1403716535\",\"shoulder\":\"1910143379\",\"chest\":\"506236935\",\"arm_waist\":\"1273737837\",\"leg1\":\"1901933317\",\"leg2\":\"2134251386\",\"shoes\":\"52641823\"},{\"time\":\"117\",\"head\":\"732555119\",\"shoulder\":\"859116563\",\"chest\":\"1210010773\",\"arm_waist\":\"649979374\",\"leg1\":\"1904924337\",\"leg2\":\"1561332711\",\"shoes\":\"1589378978\"},{\"time\":\"126\",\"head\":\"575761066\",\"shoulder\":\"294311991\",\"chest\":\"1901756308\",\"arm_waist\":\"1124911781\",\"leg1\":\"157753296\",\"leg2\":\"807518985\",\"shoes\":\"433157991\"},{\"time\":\"152\",\"head\":\"1593337836\",\"shoulder\":\"1071377692\",\"chest\":\"103702861\",\"arm_waist\":\"233430023\",\"leg1\":\"472752037\",\"leg2\":\"613593871\",\"shoes\":\"512053627\"},{\"time\":\"162\",\"head\":\"2054268554\",\"shoulder\":\"350260736\",\"chest\":\"583093286\",\"arm_waist\":\"1461874335\",\"leg1\":\"1712914241\",\"leg2\":\"479143147\",\"shoes\":\"1996517854\"},{\"time\":\"165\",\"head\":\"687107151\",\"shoulder\":\"2036639047\",\"chest\":\"1404468352\",\"arm_waist\":\"252537745\",\"leg1\":\"368298546\",\"leg2\":\"1253502559\",\"shoes\":\"1622968520\"},{\"time\":\"217\",\"head\":\"770283332\",\"shoulder\":\"1884320800\",\"chest\":\"1446014358\",\"arm_waist\":\"1075478175\",\"leg1\":\"1959217838\",\"leg2\":\"760381410\",\"shoes\":\"1917447054\"},{\"time\":\"236\",\"head\":\"1127037739\",\"shoulder\":\"442346677\",\"chest\":\"1441432074\",\"arm_waist\":\"881487408\",\"leg1\":\"429114415\",\"leg2\":\"1494073897\",\"shoes\":\"2030472560\"},{\"time\":\"255\",\"head\":\"1604451419\",\"shoulder\":\"738426002\",\"chest\":\"1944753336\",\"arm_waist\":\"1846113756\",\"leg1\":\"414493857\",\"leg2\":\"1580707512\",\"shoes\":\"851344382\"},{\"time\":\"274\",\"head\":\"219205885\",\"shoulder\":\"1734039848\",\"chest\":\"1936929395\",\"arm_waist\":\"1781095206\",\"leg1\":\"1872541100\",\"leg2\":\"542675421\",\"shoes\":\"185092676\"},{\"time\":\"289\",\"head\":\"1791655847\",\"shoulder\":\"1207138560\",\"chest\":\"1123254729\",\"arm_waist\":\"1491275305\",\"leg1\":\"1563398120\",\"leg2\":\"1106531546\",\"shoes\":\"1061206966\"},{\"time\":\"300\",\"head\":\"1638531418\",\"shoulder\":\"2127128686\",\"chest\":\"2064149591\",\"arm_waist\":\"350577080\",\"leg1\":\"1632438992\",\"leg2\":\"1991911997\",\"shoes\":\"441568416\"},{\"time\":\"307\",\"head\":\"2027411657\",\"shoulder\":\"90106637\",\"chest\":\"1358559873\",\"arm_waist\":\"1563695857\",\"leg1\":\"1458515641\",\"leg2\":\"1760877032\",\"shoes\":\"2082047634\"},{\"time\":\"312\",\"head\":\"1608311247\",\"shoulder\":\"563951418\",\"chest\":\"102408751\",\"arm_waist\":\"6119261\",\"leg1\":\"558035472\",\"leg2\":\"328988764\",\"shoes\":\"1222041633\"},{\"time\":\"388\",\"head\":\"1847507426\",\"shoulder\":\"310042034\",\"chest\":\"1597006562\",\"arm_waist\":\"508976290\",\"leg1\":\"859529310\",\"leg2\":\"1652793954\",\"shoes\":\"2075246054\"},{\"time\":\"391\",\"head\":\"911051937\",\"shoulder\":\"543138030\",\"chest\":\"2098085672\",\"arm_waist\":\"784215121\",\"leg1\":\"1561889321\",\"leg2\":\"138501252\",\"shoes\":\"753229674\"},{\"time\":\"411\",\"head\":\"614539587\",\"shoulder\":\"264997843\",\"chest\":\"1434900817\",\"arm_waist\":\"2081080868\",\"leg1\":\"1424300724\",\"leg2\":\"1465240167\",\"shoes\":\"495655794\"},{\"time\":\"418\",\"head\":\"1275926948\",\"shoulder\":\"1476960247\",\"chest\":\"1223572325\",\"arm_waist\":\"397741298\",\"leg1\":\"1475743248\",\"leg2\":\"419778403\",\"shoes\":\"1466675361\"},{\"time\":\"428\",\"head\":\"1889709321\",\"shoulder\":\"2028532420\",\"chest\":\"728881504\",\"arm_waist\":\"152301328\",\"leg1\":\"925826945\",\"leg2\":\"188284943\",\"shoes\":\"566050239\"},{\"time\":\"433\",\"head\":\"1570747355\",\"shoulder\":\"1408909629\",\"chest\":\"439691201\",\"arm_waist\":\"2055633350\",\"leg1\":\"375549043\",\"leg2\":\"352923219\",\"shoes\":\"40417120\"},{\"time\":\"437\",\"head\":\"991597364\",\"shoulder\":\"1369435228\",\"chest\":\"1729893367\",\"arm_waist\":\"1524370834\",\"leg1\":\"731412126\",\"leg2\":\"1188591636\",\"shoes\":\"1866872386\"},{\"time\":\"438\",\"head\":\"1488659456\",\"shoulder\":\"1300530203\",\"chest\":\"1441226548\",\"arm_waist\":\"31626241\",\"leg1\":\"1890298059\",\"leg2\":\"672792980\",\"shoes\":\"336299592\"},{\"time\":\"454\",\"head\":\"1127797698\",\"shoulder\":\"1032742561\",\"chest\":\"618857738\",\"arm_waist\":\"371905733\",\"leg1\":\"2080148187\",\"leg2\":\"344260307\",\"shoes\":\"1186761122\"},{\"time\":\"459\",\"head\":\"708448359\",\"shoulder\":\"319735625\",\"chest\":\"1413129442\",\"arm_waist\":\"598808098\",\"leg1\":\"35809111\",\"leg2\":\"336846415\",\"shoes\":\"1453545760\"},{\"time\":\"462\",\"head\":\"233886556\",\"shoulder\":\"975441622\",\"chest\":\"874902148\",\"arm_waist\":\"1863944446\",\"leg1\":\"2036838158\",\"leg2\":\"2098435936\",\"shoes\":\"434449283\"},{\"time\":\"463\",\"head\":\"1244956574\",\"shoulder\":\"670630711\",\"chest\":\"891342691\",\"arm_waist\":\"214714555\",\"leg1\":\"1593840442\",\"leg2\":\"1264609044\",\"shoes\":\"2011383922\"},{\"time\":\"469\",\"head\":\"1761706566\",\"shoulder\":\"1611721192\",\"chest\":\"804088948\",\"arm_waist\":\"1826246330\",\"leg1\":\"1562304230\",\"leg2\":\"2002188007\",\"shoes\":\"1880121100\"},{\"time\":\"484\",\"head\":\"1235280668\",\"shoulder\":\"1178558708\",\"chest\":\"450581115\",\"arm_waist\":\"959857773\",\"leg1\":\"1765324036\",\"leg2\":\"597135395\",\"shoes\":\"1176230184\"},{\"time\":\"511\",\"head\":\"3673256\",\"shoulder\":\"583713492\",\"chest\":\"1597268192\",\"arm_waist\":\"1838315209\",\"leg1\":\"1003499711\",\"leg2\":\"60569998\",\"shoes\":\"818629259\"},{\"time\":\"521\",\"head\":\"1183783226\",\"shoulder\":\"1161653247\",\"chest\":\"174068979\",\"arm_waist\":\"1675765144\",\"leg1\":\"1906675263\",\"leg2\":\"1421779224\",\"shoes\":\"1956942654\"},{\"time\":\"552\",\"head\":\"1815781506\",\"shoulder\":\"46689032\",\"chest\":\"1459169970\",\"arm_waist\":\"50871131\",\"leg1\":\"1872060753\",\"leg2\":\"586765328\",\"shoes\":\"146554279\"},{\"time\":\"554\",\"head\":\"502828376\",\"shoulder\":\"2017795852\",\"chest\":\"1031163602\",\"arm_waist\":\"2132229359\",\"leg1\":\"84714421\",\"leg2\":\"927857020\",\"shoes\":\"211940640\"},{\"time\":\"592\",\"head\":\"766092934\",\"shoulder\":\"571405870\",\"chest\":\"951575717\",\"arm_waist\":\"383933323\",\"leg1\":\"1168541265\",\"leg2\":\"2127805902\",\"shoes\":\"616313298\"},{\"time\":\"626\",\"head\":\"1285811613\",\"shoulder\":\"69998179\",\"chest\":\"1992760105\",\"arm_waist\":\"1886097258\",\"leg1\":\"690450433\",\"leg2\":\"589767856\",\"shoes\":\"1379050079\"},{\"time\":\"635\",\"head\":\"1074554074\",\"shoulder\":\"715853049\",\"chest\":\"971134170\",\"arm_waist\":\"1254517242\",\"leg1\":\"197439226\",\"leg2\":\"1947836498\",\"shoes\":\"227818906\"},{\"time\":\"639\",\"head\":\"1964970813\",\"shoulder\":\"966049516\",\"chest\":\"1098909365\",\"arm_waist\":\"1211205833\",\"leg1\":\"1630057890\",\"leg2\":\"1061396535\",\"shoes\":\"1223533788\"},{\"time\":\"646\",\"head\":\"509354078\",\"shoulder\":\"1909766214\",\"chest\":\"925876797\",\"arm_waist\":\"1027371067\",\"leg1\":\"525704777\",\"leg2\":\"1114249792\",\"shoes\":\"1227787875\"},{\"time\":\"742\",\"head\":\"1167263712\",\"shoulder\":\"640790130\",\"chest\":\"267311301\",\"arm_waist\":\"892321164\",\"leg1\":\"1183465551\",\"leg2\":\"452403977\",\"shoes\":\"1349933736\"},{\"time\":\"749\",\"head\":\"1794865071\",\"shoulder\":\"161803886\",\"chest\":\"1563728229\",\"arm_waist\":\"1091304907\",\"leg1\":\"1269297998\",\"leg2\":\"2146266649\",\"shoes\":\"1343689725\"},{\"time\":\"751\",\"head\":\"417967942\",\"shoulder\":\"2134175421\",\"chest\":\"108398626\",\"arm_waist\":\"890719979\",\"leg1\":\"600285645\",\"leg2\":\"620452254\",\"shoes\":\"744491398\"},{\"time\":\"769\",\"head\":\"40070408\",\"shoulder\":\"1109673563\",\"chest\":\"458073969\",\"arm_waist\":\"1971652773\",\"leg1\":\"911461349\",\"leg2\":\"1364378007\",\"shoes\":\"2083593389\"},{\"time\":\"775\",\"head\":\"1816625082\",\"shoulder\":\"1265165134\",\"chest\":\"1457061724\",\"arm_waist\":\"353213619\",\"leg1\":\"416801325\",\"leg2\":\"1418661277\",\"shoes\":\"1455253745\"},{\"time\":\"777\",\"head\":\"1334596247\",\"shoulder\":\"1053576433\",\"chest\":\"1412677934\",\"arm_waist\":\"750510720\",\"leg1\":\"12624331\",\"leg2\":\"326401253\",\"shoes\":\"1553848355\"},{\"time\":\"793\",\"head\":\"940822144\",\"shoulder\":\"2126725070\",\"chest\":\"1734732738\",\"arm_waist\":\"1129107087\",\"leg1\":\"545291661\",\"leg2\":\"2141567701\",\"shoes\":\"226580013\"},{\"time\":\"802\",\"head\":\"1137186292\",\"shoulder\":\"1862812935\",\"chest\":\"2015629136\",\"arm_waist\":\"1868598418\",\"leg1\":\"903920923\",\"leg2\":\"1735017874\",\"shoes\":\"120824754\"},{\"time\":\"809\",\"head\":\"1387423162\",\"shoulder\":\"2115506176\",\"chest\":\"1802129730\",\"arm_waist\":\"167796535\",\"leg1\":\"179963168\",\"leg2\":\"1629069825\",\"shoes\":\"976702328\"},{\"time\":\"818\",\"head\":\"1947119712\",\"shoulder\":\"2064615140\",\"chest\":\"1366083096\",\"arm_waist\":\"1446780651\",\"leg1\":\"1832366204\",\"leg2\":\"1499002663\",\"shoes\":\"1938038953\"},{\"time\":\"839\",\"head\":\"327841900\",\"shoulder\":\"1601928749\",\"chest\":\"1003839341\",\"arm_waist\":\"394296319\",\"leg1\":\"2017504950\",\"leg2\":\"2139273585\",\"shoes\":\"1628014450\"},{\"time\":\"851\",\"head\":\"54005400\",\"shoulder\":\"35655379\",\"chest\":\"2130919681\",\"arm_waist\":\"1616309630\",\"leg1\":\"2037843387\",\"leg2\":\"1863557133\",\"shoes\":\"1071200621\"},{\"time\":\"853\",\"head\":\"2138356466\",\"shoulder\":\"967366761\",\"chest\":\"2014092497\",\"arm_waist\":\"1897548081\",\"leg1\":\"241662337\",\"leg2\":\"1823551503\",\"shoes\":\"1783437824\"},{\"time\":\"858\",\"head\":\"1008951641\",\"shoulder\":\"184078378\",\"chest\":\"936277237\",\"arm_waist\":\"563188430\",\"leg1\":\"532773470\",\"leg2\":\"1509460545\",\"shoes\":\"1606181917\"},{\"time\":\"865\",\"head\":\"757317251\",\"shoulder\":\"829458398\",\"chest\":\"1171325475\",\"arm_waist\":\"425000760\",\"leg1\":\"1302027774\",\"leg2\":\"976703218\",\"shoes\":\"793297782\"},{\"time\":\"866\",\"head\":\"2113744724\",\"shoulder\":\"194689515\",\"chest\":\"672873763\",\"arm_waist\":\"196073543\",\"leg1\":\"257608825\",\"leg2\":\"58432237\",\"shoes\":\"188168576\"},{\"time\":\"879\",\"head\":\"1831072099\",\"shoulder\":\"1031274437\",\"chest\":\"1437175154\",\"arm_waist\":\"1627932088\",\"leg1\":\"1847103105\",\"leg2\":\"356259560\",\"shoes\":\"2130760464\"},{\"time\":\"901\",\"head\":\"232561492\",\"shoulder\":\"1951717565\",\"chest\":\"1616906999\",\"arm_waist\":\"268370603\",\"leg1\":\"141080332\",\"leg2\":\"922969112\",\"shoes\":\"210964621\"},{\"time\":\"911\",\"head\":\"1628491665\",\"shoulder\":\"1056671631\",\"chest\":\"104580472\",\"arm_waist\":\"484507728\",\"leg1\":\"1117241629\",\"leg2\":\"923209731\",\"shoes\":\"373266352\"},{\"time\":\"932\",\"head\":\"471361779\",\"shoulder\":\"705968386\",\"chest\":\"1201967183\",\"arm_waist\":\"2112079196\",\"leg1\":\"1629400983\",\"leg2\":\"214402217\",\"shoes\":\"2044177066\"},{\"time\":\"955\",\"head\":\"1235414243\",\"shoulder\":\"914062887\",\"chest\":\"396261278\",\"arm_waist\":\"256471860\",\"leg1\":\"894385141\",\"leg2\":\"1012574576\",\"shoes\":\"139662716\"},{\"time\":\"973\",\"head\":\"364304268\",\"shoulder\":\"330227657\",\"chest\":\"1811869734\",\"arm_waist\":\"922339740\",\"leg1\":\"659216421\",\"leg2\":\"886427720\",\"shoes\":\"218318309\"},{\"time\":\"1017\",\"head\":\"745277593\",\"shoulder\":\"1675307104\",\"chest\":\"2131839002\",\"arm_waist\":\"501686575\",\"leg1\":\"410075654\",\"leg2\":\"1044778173\",\"shoes\":\"1606887087\"},{\"time\":\"1018\",\"head\":\"1459298559\",\"shoulder\":\"536774037\",\"chest\":\"1756175061\",\"arm_waist\":\"1716907384\",\"leg1\":\"595206274\",\"leg2\":\"1944343637\",\"shoes\":\"815828668\"},{\"time\":\"1044\",\"head\":\"118717774\",\"shoulder\":\"1440639394\",\"chest\":\"612956342\",\"arm_waist\":\"8072284\",\"leg1\":\"1391591682\",\"leg2\":\"1047405626\",\"shoes\":\"1872886217\"},{\"time\":\"1062\",\"head\":\"2063398141\",\"shoulder\":\"562289173\",\"chest\":\"368231065\",\"arm_waist\":\"1748280697\",\"leg1\":\"2061291837\",\"leg2\":\"158786371\",\"shoes\":\"422865897\"},{\"time\":\"1073\",\"head\":\"1669585549\",\"shoulder\":\"1258004546\",\"chest\":\"1946139845\",\"arm_waist\":\"955353682\",\"leg1\":\"549150715\",\"leg2\":\"2010924953\",\"shoes\":\"1053246325\"},{\"time\":\"1081\",\"head\":\"2136818653\",\"shoulder\":\"89487371\",\"chest\":\"2059058152\",\"arm_waist\":\"404199199\",\"leg1\":\"1931582364\",\"leg2\":\"1949271434\",\"shoes\":\"906304038\"},{\"time\":\"1092\",\"head\":\"1243000940\",\"shoulder\":\"510282668\",\"chest\":\"1227665196\",\"arm_waist\":\"1384081272\",\"leg1\":\"1433251780\",\"leg2\":\"1438629817\",\"shoes\":\"64785107\"},{\"time\":\"1131\",\"head\":\"1056366331\",\"shoulder\":\"1402745545\",\"chest\":\"2126039296\",\"arm_waist\":\"92348235\",\"leg1\":\"1855149522\",\"leg2\":\"1328489384\",\"shoes\":\"530122123\"},{\"time\":\"1134\",\"head\":\"1394535483\",\"shoulder\":\"1606570098\",\"chest\":\"1018735869\",\"arm_waist\":\"1102201357\",\"leg1\":\"787575834\",\"leg2\":\"1548857992\",\"shoes\":\"509891010\"},{\"time\":\"1138\",\"head\":\"964377923\",\"shoulder\":\"190711421\",\"chest\":\"1426543763\",\"arm_waist\":\"1875839272\",\"leg1\":\"1555089428\",\"leg2\":\"1362653505\",\"shoes\":\"2043533509\"},{\"time\":\"1143\",\"head\":\"906579142\",\"shoulder\":\"1145510336\",\"chest\":\"1278315701\",\"arm_waist\":\"1628031027\",\"leg1\":\"1701720437\",\"leg2\":\"348695091\",\"shoes\":\"573183308\"},{\"time\":\"1148\",\"head\":\"491795306\",\"shoulder\":\"27774258\",\"chest\":\"118443564\",\"arm_waist\":\"1218528406\",\"leg1\":\"1466541281\",\"leg2\":\"1159302881\",\"shoes\":\"30339350\"},{\"time\":\"1181\",\"head\":\"988796107\",\"shoulder\":\"412929542\",\"chest\":\"517799810\",\"arm_waist\":\"2103045899\",\"leg1\":\"1640717417\",\"leg2\":\"923432597\",\"shoes\":\"1159918681\"},{\"time\":\"1182\",\"head\":\"998953900\",\"shoulder\":\"1784341209\",\"chest\":\"1724009923\",\"arm_waist\":\"741768311\",\"leg1\":\"309650541\",\"leg2\":\"2060309515\",\"shoes\":\"538588123\"},{\"time\":\"1241\",\"head\":\"982067576\",\"shoulder\":\"1834906426\",\"chest\":\"992454790\",\"arm_waist\":\"895875765\",\"leg1\":\"1993692797\",\"leg2\":\"1415320687\",\"shoes\":\"2024015905\"},{\"time\":\"1253\",\"head\":\"623264872\",\"shoulder\":\"1664332667\",\"chest\":\"357494280\",\"arm_waist\":\"434999062\",\"leg1\":\"277230430\",\"leg2\":\"127457687\",\"shoes\":\"2077805351\"},{\"time\":\"1263\",\"head\":\"1378945674\",\"shoulder\":\"1227112867\",\"chest\":\"1991270524\",\"arm_waist\":\"533489800\",\"leg1\":\"56332437\",\"leg2\":\"637084658\",\"shoes\":\"871817153\"},{\"time\":\"1272\",\"head\":\"679427737\",\"shoulder\":\"1190534992\",\"chest\":\"1968906811\",\"arm_waist\":\"1023688044\",\"leg1\":\"229812467\",\"leg2\":\"62919309\",\"shoes\":\"1533042122\"},{\"time\":\"1275\",\"head\":\"1008165333\",\"shoulder\":\"1348791529\",\"chest\":\"1268904706\",\"arm_waist\":\"1670774322\",\"leg1\":\"492067680\",\"leg2\":\"1834641952\",\"shoes\":\"419786218\"},{\"time\":\"1277\",\"head\":\"1055831782\",\"shoulder\":\"1394771949\",\"chest\":\"1414227542\",\"arm_waist\":\"902040931\",\"leg1\":\"662608988\",\"leg2\":\"1290759799\",\"shoes\":\"565737246\"},{\"time\":\"1286\",\"head\":\"1204356430\",\"shoulder\":\"438864100\",\"chest\":\"1969328644\",\"arm_waist\":\"515388423\",\"leg1\":\"52257485\",\"leg2\":\"1903892630\",\"shoes\":\"882252198\"},{\"time\":\"1336\",\"head\":\"732423173\",\"shoulder\":\"1919032930\",\"chest\":\"624481136\",\"arm_waist\":\"788755610\",\"leg1\":\"408633940\",\"leg2\":\"1496298290\",\"shoes\":\"835960866\"},{\"time\":\"1348\",\"head\":\"1214331950\",\"shoulder\":\"1806184442\",\"chest\":\"543183619\",\"arm_waist\":\"2118252874\",\"leg1\":\"1393718668\",\"leg2\":\"664008373\",\"shoes\":\"2109970818\"},{\"time\":\"1359\",\"head\":\"87240644\",\"shoulder\":\"633230554\",\"chest\":\"1711715467\",\"arm_waist\":\"501734502\",\"leg1\":\"66454419\",\"leg2\":\"415576201\",\"shoes\":\"1135434244\"},{\"time\":\"1372\",\"head\":\"885426745\",\"shoulder\":\"441294568\",\"chest\":\"662279167\",\"arm_waist\":\"2552141\",\"leg1\":\"305194842\",\"leg2\":\"74897037\",\"shoes\":\"1461850700\"},{\"time\":\"1389\",\"head\":\"308831607\",\"shoulder\":\"165093770\",\"chest\":\"723005091\",\"arm_waist\":\"684380651\",\"leg1\":\"518016989\",\"leg2\":\"763422211\",\"shoes\":\"188372995\"},{\"time\":\"1429\",\"head\":\"1488756698\",\"shoulder\":\"1608516638\",\"chest\":\"1880621300\",\"arm_waist\":\"1692480924\",\"leg1\":\"1306940336\",\"leg2\":\"76252313\",\"shoes\":\"1237380958\"},{\"time\":\"1439\",\"head\":\"955944981\",\"shoulder\":\"839625601\",\"chest\":\"1482076720\",\"arm_waist\":\"1113698278\",\"leg1\":\"1647144586\",\"leg2\":\"1915234712\",\"shoes\":\"132919567\"},{\"time\":\"1475\",\"head\":\"862133238\",\"shoulder\":\"463647353\",\"chest\":\"165977196\",\"arm_waist\":\"138950315\",\"leg1\":\"1928887521\",\"leg2\":\"661632990\",\"shoes\":\"1085352941\"},{\"time\":\"1481\",\"head\":\"371184045\",\"shoulder\":\"932546597\",\"chest\":\"390653600\",\"arm_waist\":\"787985370\",\"leg1\":\"203724226\",\"leg2\":\"1845907345\",\"shoes\":\"343114661\"},{\"time\":\"1483\",\"head\":\"812124511\",\"shoulder\":\"1615432973\",\"chest\":\"1080725228\",\"arm_waist\":\"1180423057\",\"leg1\":\"721451884\",\"leg2\":\"556210101\",\"shoes\":\"1217863038\"},{\"time\":\"1485\",\"head\":\"1975459423\",\"shoulder\":\"1619795066\",\"chest\":\"974460346\",\"arm_waist\":\"722360916\",\"leg1\":\"484885995\",\"leg2\":\"1114123062\",\"shoes\":\"2060715665\"},{\"time\":\"1487\",\"head\":\"1957211730\",\"shoulder\":\"306320960\",\"chest\":\"587990763\",\"arm_waist\":\"1116668418\",\"leg1\":\"382573273\",\"leg2\":\"1825371721\",\"shoes\":\"1275079006\"},{\"time\":\"1492\",\"head\":\"1829883466\",\"shoulder\":\"1263989445\",\"chest\":\"2049217290\",\"arm_waist\":\"1158143066\",\"leg1\":\"1683767848\",\"leg2\":\"1368409003\",\"shoes\":\"402317159\"}]}";
  deserializeJson(doc, input);
  for (int i = 0; i < 100; i++) {
    array[i][0] = doc["color_data"][i]["time"];
    array[i][1] = doc["color_data"][i]["head"];
    array[i][2] = doc["color_data"][i]["shoulder"];
    array[i][3] = doc["color_data"][i]["chest"];
    array[i][4] = doc["color_data"][i]["arm_waist"];
    array[i][5] = doc["color_data"][i]["leg1"];
    array[i][6] = doc["color_data"][i]["leg2"];
    array[i][7] = doc["color_data"][i]["shoes"];
  }
  FastLED.addLeds<NEOPIXEL, 2>(led1, 1);
  FastLED.addLeds<NEOPIXEL, 3>(led2, 1);
  FastLED.addLeds<NEOPIXEL, 4>(led3, 1);
  FastLED.addLeds<NEOPIXEL, 5>(led4, 1);
  FastLED.addLeds<NEOPIXEL, 6>(led5, 1);
  FastLED.addLeds<NEOPIXEL, 7>(led6, 1);
  FastLED.addLeds<NEOPIXEL, 8>(led7, 1);
  startTime = millis();

  // int data1[2];
  // int data2[2];

  // int data1,data2;
  // data1 = doc["color_data"][1]["time"];
  // data2 = doc["color_data"][1]["head"];
  // Serial.println(data1);
  // Serial.println(data2);
  // for (int i = 0; i < 2; i++) {
  //   data1[i] = doc["color_data"][i]["time"];
  //   data2[i] = doc["color_data"][i]["head"];
  // }
  // for (int i = 0; i < 2; i++) {
  //   Serial.println(data1[i]);
  //   Serial.println(data2[i]);
  // }

  // You can use a String as a key to get a member from JsonDocument
  // No duplication is done.
  //long time = doc[(String"time")];

  // You can use a String as a key to set a member of a JsonDocument
  // WARNING: the content of the String will be duplicated in the JsonDocument.
  //doc[String("time")] = time;

  // You can get the content of a JsonVariant as a String
  // No duplication is done, at least not in the JsonDocument.
  //String sensor = doc["sensor"];
  //Serial.println(sensor);

  // Unfortunately, the following doesn't work (issue #118):
  // sensor = doc["sensor"]; // <-  error "ambiguous overload for 'operator='"
  // As a workaround, you need to replace by:
  //sensor = doc["sensor"].as<String>();

  // You can set a String as the content of a JsonVariant
  // WARNING: the content of the String will be duplicated in the JsonDocument.
  //doc["sensor"] = sensor;

  // It works with serialized() too:
  //doc["sensor"] = serialized(sensor);

  // You can also concatenate strings
  // WARNING: the content of the String will be duplicated in the JsonDocument.
  //doc[String("sen") + "sor"] = String("gp") + "s";

  // You can compare the content of a JsonObject with a String
  //

  // Lastly, you can print the resulting JSON to a String
  //String output;
  //serializeJson(doc, output);
}

int red(unsigned int data) {
  return (data >> 24) & 0xFF;
}

int green(unsigned int data) {
  return ((data >> 16) & 0xFF);
}

int blue(unsigned int data) {
  return (data >> 8) & 0xFF;
}

int bright(unsigned int data) {
  return (data >> 0) & 0xFF;
}
int i = 0;
void loop() {
  while (i < 100) {
    if (millis() - startTime == array[i][0] * 50) {
      for (int j = 0; j < 7; j++) {
        leds[j][0] = CRGB(red(array[i][j + 1]), green(array[i][j + 1]), blue(array[i][j + 1]));
        leds[j][0].nscale8(bright(array[i][j + 1]));
        // Serial.printf("(%d, %d, %d)", red(array[i][j + 1]), green(array[i][j + 1]), blue(array[i][j + 1]));
      }
      i++;
      FastLED.show();
    }
  }
}